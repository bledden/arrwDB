# Vector Database API - Configuration Template
# Copy this file to .env and customize for your deployment

# ============================================================
# Server Configuration
# ============================================================

# Server host and port
HOST=0.0.0.0
PORT=8000

# Number of worker processes (default: auto-detect CPU count)
# Recommendation: Leave unset for automatic CPU detection
# Override only if you need to limit workers (e.g., memory constraints)
# GUNICORN_WORKERS=4

# Worker timeout (in seconds)
# GUNICORN_TIMEOUT=120

# ============================================================
# Rate Limiting
# ============================================================

# Enable rate limiting (DISABLED by default)
# Set to true for production deployments
# RATE_LIMIT_ENABLED=false

# Rate limits (format: "requests/period")
# Customize based on your infrastructure and user base

# Search operations (embedding + vector search - expensive)
# RATE_LIMIT_SEARCH=30/minute

# Document creation (calls Cohere API - costs money)
# RATE_LIMIT_WRITE=60/minute

# Library creation (allocates memory - rare operation)
# RATE_LIMIT_CREATE=10/minute

# ============================================================
# Input Size Limits
# ============================================================

# Maximum chunks per document (1000 = ~200 pages)
# MAX_CHUNKS_PER_DOCUMENT=1000

# Maximum characters per chunk
# MAX_CHUNK_LENGTH=10000

# Maximum query length for search
# MAX_QUERY_LENGTH=1000

# Maximum number of search results
# MAX_RESULTS_K=100

# Maximum documents per library (affects memory usage)
# MAX_DOCUMENTS_PER_LIBRARY=10000

# Maximum documents per bulk import request
# MAX_BULK_DOCUMENTS=100

# ============================================================
# API Configuration
# ============================================================

# API version
# API_VERSION=v1

# Enable API versioning in URLs (/v1/libraries)
# API_VERSIONING_ENABLED=true

# Enable API documentation at /docs and /redoc
# ENABLE_DOCS=true

# ============================================================
# Data Storage
# ============================================================

# Base directory for data storage
VECTOR_DB_DATA_DIR=./data

# Enable memory-mapped storage for large datasets
# ENABLE_MMAP=true

# ============================================================
# Embedding Service (Cohere)
# ============================================================

# REQUIRED: Get your API key from https://dashboard.cohere.com/api-keys
COHERE_API_KEY=your_api_key_here

# Embedding model to use
# EMBEDDING_MODEL=embed-english-v3.0

# Embedding dimension (1024 for full, can reduce for speed)
# EMBEDDING_DIMENSION=1024

# ============================================================
# Logging
# ============================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Use JSON format for logs (better for log aggregation tools)
# LOG_JSON_FORMAT=false

# ============================================================
# Development
# ============================================================

# Enable debug mode (auto-reload, verbose logging)
# DEBUG=false

# ============================================================
# Production Deployment Examples
# ============================================================

# Example 1: High-traffic production setup
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_SEARCH=100/minute
# RATE_LIMIT_WRITE=200/minute
# GUNICORN_WORKERS=8
# LOG_LEVEL=WARNING
# LOG_JSON_FORMAT=true

# Example 2: Development setup
# RATE_LIMIT_ENABLED=false
# GUNICORN_WORKERS=2
# DEBUG=true
# LOG_LEVEL=DEBUG

# Example 3: High-capacity setup (32-core server, 128GB RAM)
# GUNICORN_WORKERS=32
# MAX_DOCUMENTS_PER_LIBRARY=50000
# MAX_CHUNKS_PER_DOCUMENT=5000
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_SEARCH=500/minute
